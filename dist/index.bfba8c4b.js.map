{"mappings":"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","sources":["work8/script.js"],"sourcesContent":["const imageCache = new Map()\r\n\r\nconst loadImage = async (url) => {\r\n  if (imageCache.has(url)) return imageCache.get(url)\r\n\r\n  const img = await new Promise((resolve, reject) => {\r\n    const image = new Image()\r\n    image.onload = () => resolve(image)\r\n    image.onerror = reject\r\n    image.src = url\r\n  })\r\n\r\n  imageCache.set(url, img)\r\n  return img\r\n}\r\n\r\nclass Viewer360 {\r\n  constructor(target) {\r\n    this.target = target\r\n    this.images = []\r\n    this.currentFrame = 0\r\n    this.previousSection = 0\r\n    this.isDragging = false\r\n    this.dragStartX = 0\r\n\r\n    this.config = {\r\n      numFrames: parseInt(target.dataset.viewerNum || \"0\"),\r\n      numPadding: parseInt(target.dataset.viewerNumPad || \"0\"),\r\n      baseImageUrl: target.dataset.viewerImage || \"\",\r\n      imageExtension: target.dataset.viewerImageExtension || \"\",\r\n      backgroundColor:\r\n        getComputedStyle(target)\r\n          .getPropertyValue(\"--viewer-background\")\r\n          .trim() || \"#ffffff\",\r\n    }\r\n\r\n    this.canvas = document.createElement(\"canvas\")\r\n    this.ctx = this.canvas.getContext(\"2d\", { alpha: false })\r\n\r\n    this.init()\r\n  }\r\n\r\n  async init() {\r\n    this.target.innerHTML = \"\"\r\n    this.target.appendChild(this.canvas)\r\n    this.setupCanvas()\r\n    await this.loadImages()\r\n    this.bindEvents()\r\n    this.setupResizeHandler()\r\n  }\r\n\r\n  setupCanvas() {\r\n    const rect = this.target.getBoundingClientRect()\r\n    this.canvas.width = rect.width\r\n    this.canvas.height = rect.height\r\n    this.ctx.imageSmoothingEnabled = true\r\n    this.renderFrame()\r\n  }\r\n\r\n  async loadImages() {\r\n    const loadingDiv = this.createLoadingUI()\r\n\r\n    try {\r\n      await Promise.all(\r\n        Array.from({ length: this.config.numFrames }, (_, i) =>\r\n          this.loadSingleImage(i, loadingDiv),\r\n        ),\r\n      )\r\n\r\n      loadingDiv.remove()\r\n      this.target.classList.add(\"viewer-loaded\")\r\n      this.renderFrame()\r\n    } catch (error) {\r\n      console.error(\"Failed to load images:\", error)\r\n    }\r\n  }\r\n\r\n  async loadSingleImage(index, loadingDiv) {\r\n    const url = `${this.config.baseImageUrl}${String(index + 1).padStart(this.config.numPadding, \"0\")}.${this.config.imageExtension}`\r\n    const img = await loadImage(url)\r\n    this.images[index] = img\r\n\r\n    if (loadingDiv) {\r\n      loadingDiv.textContent = `Loading... ${Math.round(((index + 1) / this.config.numFrames) * 100)}%`\r\n    }\r\n\r\n    return img\r\n  }\r\n\r\n  createLoadingUI() {\r\n    const div = document.createElement(\"div\")\r\n    div.className = \"viewer-loading\"\r\n    div.textContent = \"Loading images...\"\r\n    this.target.appendChild(div)\r\n    return div\r\n  }\r\n\r\n  renderFrame() {\r\n    if (!this.images[this.currentFrame]) return\r\n\r\n    const img = this.images[this.currentFrame]\r\n    const { canvas, ctx } = this\r\n\r\n    ctx.clearRect(0, 0, canvas.width, canvas.height)\r\n    ctx.fillStyle = this.config.backgroundColor\r\n    ctx.fillRect(0, 0, canvas.width, canvas.height)\r\n\r\n    const scale = Math.min(canvas.width / img.width, canvas.height / img.height)\r\n    const x = (canvas.width - img.width * scale) / 2\r\n    const y = (canvas.height - img.height * scale) / 2\r\n\r\n    ctx.drawImage(img, x, y, img.width * scale, img.height * scale)\r\n  }\r\n\r\n  updateFrame(moveDistance) {\r\n    const sectionWidth = this.canvas.width / this.config.numFrames\r\n    const tempSection = Math.floor(Math.abs(moveDistance) / sectionWidth)\r\n\r\n    const currentSection =\r\n      moveDistance < 0\r\n        ? (((this.previousSection + tempSection) % this.config.numFrames) +\r\n            this.config.numFrames) %\r\n          this.config.numFrames\r\n        : (((this.previousSection - tempSection) % this.config.numFrames) +\r\n            this.config.numFrames) %\r\n          this.config.numFrames\r\n\r\n    if (this.currentFrame !== currentSection) {\r\n      this.currentFrame = currentSection\r\n      this.renderFrame()\r\n    }\r\n  }\r\n\r\n  handleDragStart = (e) => {\r\n    this.isDragging = true\r\n    this.dragStartX = e.clientX\r\n  }\r\n\r\n  handleTouchStart = (e) => {\r\n    this.isDragging = true\r\n    this.dragStartX = e.touches[0].clientX\r\n    this.dragStartY = e.touches[0].clientY\r\n    this.isScrolling = undefined\r\n  }\r\n\r\n  handleDragMove = (e) => {\r\n    if (!this.isDragging) return\r\n    this.updateFrame(e.clientX - this.dragStartX)\r\n  }\r\n\r\n  handleTouchMove = (e) => {\r\n    if (!this.isDragging) return\r\n\r\n    const touchX = e.touches[0].clientX\r\n    const touchY = e.touches[0].clientY\r\n    const deltaX = touchX - this.dragStartX\r\n    const deltaY = touchY - this.dragStartY\r\n\r\n    if (typeof this.isScrolling === \"undefined\") {\r\n      this.isScrolling = Math.abs(deltaY) > Math.abs(deltaX)\r\n    }\r\n\r\n    if (this.isScrolling) {\r\n      return\r\n    } else {\r\n      e.preventDefault()\r\n      e.stopPropagation()\r\n      this.updateFrame(deltaX)\r\n    }\r\n  }\r\n\r\n  handleDragEnd = () => {\r\n    if (!this.isDragging) return\r\n    this.isDragging = false\r\n    this.previousSection = this.currentFrame\r\n  }\r\n\r\n  bindEvents() {\r\n    this.canvas.addEventListener(\"mousedown\", this.handleDragStart)\r\n    this.canvas.addEventListener(\"touchstart\", this.handleTouchStart)\r\n    window.addEventListener(\"mousemove\", this.handleDragMove)\r\n    window.addEventListener(\"touchmove\", this.handleTouchMove)\r\n    window.addEventListener(\"mouseup\", this.handleDragEnd)\r\n    window.addEventListener(\"touchend\", this.handleDragEnd)\r\n    window.addEventListener(\"mouseleave\", this.handleDragEnd)\r\n  }\r\n\r\n  setupResizeHandler() {\r\n    let resizeTimer\r\n    window.addEventListener(\"resize\", () => {\r\n      clearTimeout(resizeTimer)\r\n      resizeTimer = setTimeout(() => this.setupCanvas(), 150)\r\n    })\r\n  }\r\n\r\n  destroy() {\r\n    this.canvas.removeEventListener(\"mousedown\", this.handleDragStart)\r\n    this.canvas.removeEventListener(\"touchstart\", this.handleTouchStart)\r\n    window.removeEventListener(\"mousemove\", this.handleDragMove)\r\n    window.removeEventListener(\"touchmove\", this.handleTouchMove)\r\n    window.removeEventListener(\"mouseup\", this.handleDragEnd)\r\n    window.removeEventListener(\"touchend\", this.handleDragEnd)\r\n    window.removeEventListener(\"mouseleave\", this.handleDragEnd)\r\n  }\r\n}\r\n\r\nclass TabComponent {\r\n  constructor(container) {\r\n    this.container = container\r\n    this.events = new Map()\r\n    this.buttons = container.querySelectorAll(\"[data-tab-button]\")\r\n    this.contents = container.querySelectorAll(\"[data-tab-content]\")\r\n    this.init()\r\n  }\r\n\r\n  init() {\r\n    this.setupAccessibility()\r\n    this.updateTab(this.container.getAttribute(\"data-active-tab\") || \"0\")\r\n    this.bindEvents()\r\n  }\r\n\r\n  setupAccessibility() {\r\n    this.container.setAttribute(\"role\", \"tablist\")\r\n    this.buttons.forEach((button) => {\r\n      button.setAttribute(\"role\", \"tab\")\r\n      button.setAttribute(\"aria-selected\", \"false\")\r\n    })\r\n    this.contents.forEach((content) => {\r\n      content.setAttribute(\"role\", \"tabpanel\")\r\n    })\r\n  }\r\n\r\n  updateTab(selectedId) {\r\n    this.buttons.forEach((button) => {\r\n      const isActive = button.getAttribute(\"data-tab-button\") === selectedId\r\n      button.setAttribute(\"aria-selected\", String(isActive))\r\n      button.setAttribute(\"data-active\", String(isActive))\r\n    })\r\n\r\n    this.contents.forEach((content) => {\r\n      const isActive = content.getAttribute(\"data-tab-content\") === selectedId\r\n      content.setAttribute(\"data-active\", String(isActive))\r\n    })\r\n\r\n    this.container.setAttribute(\"data-active-tab\", selectedId)\r\n  }\r\n\r\n  bindEvents() {\r\n    this.buttons.forEach((button) => {\r\n      const handler = () => {\r\n        const index = button.getAttribute(\"data-tab-button\")\r\n        this.updateTab(index)\r\n        if (button.id) {\r\n          history.replaceState(null, \"\", `#${button.id}`)\r\n        }\r\n      }\r\n\r\n      button.addEventListener(\"click\", handler)\r\n      this.events.set(button, handler)\r\n    })\r\n  }\r\n\r\n  destroy() {\r\n    this.events.forEach((handler, element) => {\r\n      element.removeEventListener(\"click\", handler)\r\n    })\r\n    this.events.clear()\r\n  }\r\n}\r\n\r\nconst initializeViewers = () =>\r\n  Array.from(document.querySelectorAll(\"[data-product-viewer]\")).map(\r\n    (element) => new Viewer360(element),\r\n  )\r\n\r\nconst initializeTabs = () =>\r\n  Array.from(document.querySelectorAll(\"[data-tab-container]\")).map(\r\n    (element) => new TabComponent(element),\r\n  )\r\n\r\nwindow.addEventListener(\"load\", () => {\r\n  const viewers = initializeViewers()\r\n  initializeTabs()\r\n\r\n  const activeTab = document.querySelector(\r\n    '[data-tab-content][data-active=\"true\"]',\r\n  )\r\n  if (activeTab) {\r\n    new Viewer360(activeTab.querySelector(\"[data-product-viewer]\"))\r\n  }\r\n\r\n  document.querySelectorAll(\"[data-tab-button]\").forEach((button) => {\r\n    button.addEventListener(\"click\", () => {\r\n      viewers.forEach((viewer) => viewer.destroy())\r\n      initializeViewers()\r\n    })\r\n  })\r\n})\r\n"],"names":[],"version":3,"file":"index.bfba8c4b.js.map","sourceRoot":"/__parcel_source_root/"}